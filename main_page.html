<!DOCTYPE html>
<html>
<head>
    <title>spideronafork</title>
</head>
<body>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Your Website</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 0;
            }

            header {
                background-color: #333;
                color: #daff08;
                text-align: center;
                padding: 10px;
            }

            nav {
                display: flex;
                justify-content: center;
                background-color: #06300e;
            }

            nav a {
                text-decoration: none;
                color: #fffb04;
                padding: 10px 20px;
            }

            nav a:hover {
                background-color: #0f6427;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
                display: flex;
                justify-content: space-between; /* Add space between the map and friend list */
                flex-wrap: wrap; /* Allow items to wrap to the next line if needed */
            }

            #map {
                flex: 1; /* Make the map take up available space */
                height: 70vh;
            }

            #main {
                flex: 0 0 30%; /* Make the friend list take up available space */
                max-width: 30%; /* Set max width for friend list */
                background-color: #f0f0f0; /* Add background color for better readability */
                padding: 20px; /* Add padding to the friend list */
                box-sizing: border-box; /* include padding with specified width */
                float: left; /* float list to right side */
                height: 300px; /* set height for friend list container */
                overflow-y: scroll; /* add scroll bar */
            }

            /* Style for the friend list items */
            #main ul {
                list-style: none;
                padding: 0;
            }

            #main ul li {
                margin-bottom: 10px;
            }

            #main ul li a {
                text-align: left; /* Set text alignment to the left */
                display: block; /* Make the anchor element a block element to take up the full width of the list item */
                padding: 10px 0; /* Add some vertical padding for spacing */
                text-decoration: none; /* Remove the default underline on anchor elements */
                color: #f0f0f0; /* Set the text color (you can adjust the color as needed) */
            }
            .profile-image {
            display: block;
            margin: 0 auto;
            width: 200px; /* Adjust image size as needed */
            height: 200px; /* Adjust image size as needed */
            border-radius: 50%;
            object-fit: cover;
        }
        .friend-profile-image {
        width: 100px; /* Set the width you want */
        height: 100px; /* Set the height you want */
        border-radius: 50%;
        object-fit: cover;
    }
        .profile {
            margin-top: 20px;
            padding: 20px;
            background-color: #f2f2f2;
            border-radius: 5px;
        }
        </style>
    </head>
    <body>
        <header>
            <h1>Mason Hangout</h1>
        </header>
        <nav>
            <a href="https://t9bk51rful.execute-api.us-east-1.amazonaws.com/ReturnDifferentHTML">Main</a>
            <a href="https://t9bk51rful.execute-api.us-east-1.amazonaws.com/ReturnDifferentHTML?profile">Profile</a>
            <a href="https://t9bk51rful.execute-api.us-east-1.amazonaws.com/ReturnDifferentHTML?Community">Community</a>
        </nav>
        <div class="container">
            <section id="profile">
                <!-- Static Profile Image -->
                <h1>Character Profile</h1>
                <img class="profile-image" src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcR4Lv86RV0CKFsc7vv2wrOFl72IR29tMhI8rxIIMbXDwM0y_Id3" alt="Profile Image">
                <!-- Profile Section -->
       <div class="profile">
           <h2>My Profile</h2>
           <p>Name: Patricia Batman</p>
           <p>Allergy: Seafood</p>
           <!-- Add more profile information here -->
       </div>
           </section>
            <!-- Content for your profile, main, and friend list goes here -->
            <section id="main">
                <!-- Add content related to the friend list here -->
                <header>Friend List</header>
                <nav>
                    <ul>
                        <li>
                            <a href="#">
                                <span onmouseover="showFriendDetails('Mark Kent', 'friend1.jpg')" onmouseout="hideFriendDetails()">
                                    <img class="friend-profile-image" src="https://cdn.pixabay.com/photo/2022/02/20/14/01/avatar-7024621_640.png" alt="Friend 1 Profile Image">
                                    Friend 1
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span onmouseover="showFriendDetails('John Smith', 'friend_2.jpg')" onmouseout="hideFriendDetails()">
                                    <img class="friend-profile-image" src="https://banner2.cleanpng.com/20190624/fcj/kisspng-gold-coin-8-bit-stock-photography-platinum-coin-winky-face-png-96-images-in-collection-page-1-5d11961a78dac8.038057381561433626495.jpg" alt="Friend 2 Profile Image">
                                    Friend 2
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span onmouseover="showFriendDetails('Robert Hill', 'friend2.jpg')" onmouseout="hideFriendDetails()">
                                    <img class= "friend-profile-image" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSI3mJ1eL6srenCWZvTt_UELUGUlOs9o_yJ0fyw79kKnzFPcX_d" alt="Friend 3 Profile Image">
                                    Friend 3
                                </span>
                            </a>
                        </li>
                        <li><a href="#">Friend 4</a></li>
                        <li><a href="#">Friend 5</a></li>
                        <li><a href="#">Friend 6</a></li>
                        <li><a href="#">Friend 7</a></li>
                        <li><a href="#">Friend 8</a></li>
                        <!-- Add more friends as needed -->
                    </ul>
                </nav>
            </section>
            <div id="friendDetails" style="width: 200px; height: 20px;"></div>

            <section id="profile">
                <!-- Add content related to the main section here -->
            </section>
            <section id="friendName">
                <!-- Add content related to the friend list here -->
            </section>
	    <section id="friendImage"/>
        </div>
    </body>
    </html>

    <head>
        <link href="https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.css" rel="stylesheet" />
        <style>
            body { margin: 5000; }
            #map { width: 130vh; }
            #map { height: 70vh; }
            #map { margin-top: 500px; }
        </style>
    </head>
    <body>  
        <div id="map" />

        <script>
        function showFriendDetails(friendName, profileImageSrc) {
            // Get the friendDetails container, friendName paragraph, and friendImage element
            const friendDetails = document.getElementById("friendDetails");
            const friendNameElement = document.getElementById("friendName");
            const friendImageElement = document.getElementById("friendImage");
          
            // Set the friend's name and profile image source in the elements
            friendNameElement.textContent = friendName;
            friendImageElement.src = profileImageSrc;
          
            // Show the friendDetails container
            friendDetails.style.display = "block";

	    getLocation();
          }
          function hideFriendDetails() {
            const friendDetails = document.getElementById("friendDetails");
            friendDetails.style.display = "none";
          }
        </script>
    </body>


    
    
    <!--DANGER ZONE-->
    <!--DANGER ZONE-->
    <!--DANGER ZONE-->
    <!--DANGER ZONE-->



    
<head>
  <title>spideronafork</title>
</head>
<body>

  <script>
        function getLocation() {
            if (navigator.geolocation) {
                //navigator.geolocation.getCurrentPosition(showPosition, showError);
				
				const options = {
					enableHighAccuracy: true,
					timeout: 5000,
					maximumAge: 0,
				};
				
				const position = navigator.geolocation.getCurrentPosition(mapDisplay, showError, options);
            } else {
                document.getElementById("demo").innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function showPosition(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            document.getElementById("demo").innerHTML = "Latitude: " + latitude + "<br>Longitude: " + longitude;
			
			const latlng = [latitude, longitude];
			
			return latlng;
        }

        function showError(error) {
            switch (error.code) {
                case error.PERMISSION_DENIED:
                    document.getElementById("demo").innerHTML = "User denied the request for Geolocation.";
                    break;
                case error.POSITION_UNAVAILABLE:
                    document.getElementById("demo").innerHTML = "Location information is unavailable.";
                    break;
                case error.TIMEOUT:
                    document.getElementById("demo").innerHTML = "The request to get user location timed out.";
                    break;
                case error.UNKNOWN_ERROR:
                    document.getElementById("demo").innerHTML = "An unknown error occurred.";
                    break;
            }
        }
    </script>
  
  
  <center><div id="output"></div></center>
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Your Website</title>
      <style>
          body {
              font-family: Arial, sans-serif;
              margin: 0;
              padding: 0;
          }
  
          header {
              background-color: #333;
              color: #daff08;
              text-align: center;
              padding: 10px;
          }
  
          nav {
              display: flex;
              justify-content: center;
              background-color: #06300e;
          }
  
          nav a {
              text-decoration: none;
              color: #fffb04;
              padding: 10px 20px;
          }
  
          nav a:hover {
              background-color: #0f6427;
          }
  
          .container {
              max-width: 1200px;
              margin: 0 auto;
              padding: 20px;
          }
      </style>
  </head>
  <body>
      <header>
          <h1>Mason Hangout</h1>
      </header>
      <nav>
          <a href="#main">Main</a>
          <a href="#profile">Profile</a>
          <a href="#friends">Friend List</a>
      </nav>
      <div class="container">
          <!-- Content for your profile, main, and friend list goes here -->
          <section id="main">
            
              <!-- Add content related to the profile here -->
          </section>
          <section id="profile">
              
              <!-- Add content related to the main section here -->
          </section>
          <section id="friends">
              
              <!-- Add content related to the friend list here -->
          </section>
      </div>
  </body>
  </html>
</body>
<head>
  <link href="https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.css" rel="stylesheet" />
    <style>
      body { margin: 5000; }
      #map { width: 130vh;}
      #map { height: 70vh; }
      #map {margin-top: 500px;}
    </style>
</head>
<body>
  <div id="map" />
    <script src="https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.js"></script>
	
	<!--Calculate midpoint and search for queries functs-->
	  <script>
	  function calculateMidpoint(position1, position2)
	  {
		var midpoint = [0.00000, 0.00000];
		
		midpoint[0] = (position1[0] + position2[0]) / 2;
		midpoint[1] = (position1[1] + position2[1]) / 2;
		
		return midpoint;
	  }
	  </script>
	
    <script>
	function makeMidpoint(position1, position2, map)
	{	
		var midpoint = calculateMidpoint(position1, position2);
		
		const midMark = new maplibregl.Marker().setLngLat(midpoint).addTo(map);		
	}
  </script>
  
  <!--Big uh oh zone, copied code-->
  
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />

    <!-- Load MapLibre from CDN -->
    <script src=https://unpkg.com/maplibre-gl@3.2.1/dist/maplibre-gl.js></script>
    <link href=https://unpkg.com/maplibre-gl@3.2.1/dist/maplibre-gl.css rel="stylesheet" />
    <!-- Calcite components -->
    <script type="module" src=https://js.arcgis.com/calcite-components/1.4.3/calcite.esm.js></script>
    <link rel="stylesheet" type="text/css" href=https://js.arcgis.com/calcite-components/1.4.3/calcite.css />

    <!-- ArcGIS REST JS: request and places -->
    <script src="https://unpkg.com/@esri/arcgis-rest-request@4.0.0/dist/bundled/request.umd.js"></script>
    <script src="https://unpkg.com/@esri/arcgis-rest-places@1.0.0/dist/bundled/places.umd.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6.5.0/turf.min.js"></script>

    <style>
      body {
          margin: 0;
          padding: 0;
          width:100%;
          height:100%;
          display:flex;
          flex-direction:row;
      }

      #map {
          position:absolute;

          left:350px;

          top:0;
          bottom:0;
          right:0;
          font-family: Arial, Helvetica, sans-serif;
          font-size: 14px;
          color: #323232;
          z-index: 1;
      }

      .contents {
        position:absolute;
        top:44px;
        bottom:0;
        left:0;
        width:350px;
        overflow-y: auto;
        overflow-x: hidden;
      }
      #categorySelect {
        margin: 5px;
        width:340px;
      }

  </style>
</head>
<body>

  <calcite-combobox id="categorySelect" placeholder="Filter by category" overlay-positioning="fixed" selection-mode="single">
    <calcite-combobox-item value="10000" text-label="Arts and Entertainment"></calcite-combobox-item>
    <calcite-combobox-item value="11000" text-label="Business and Professional Services"></calcite-combobox-item>
    <calcite-combobox-item value="12000" text-label="Community and Government"></calcite-combobox-item>
    <calcite-combobox-item value="13000" text-label="Dining and Drinking"></calcite-combobox-item>
    <calcite-combobox-item value="15000" text-label="Health and Medicine"></calcite-combobox-item>
    <calcite-combobox-item selected value="16000" text-label="Landmarks and Outdoors"></calcite-combobox-item>
    <calcite-combobox-item value="17000" text-label="Retail"></calcite-combobox-item>
    <calcite-combobox-item value="18000" text-label="Sports and Recreation"></calcite-combobox-item>
    <calcite-combobox-item value="19000" text-label="Travel and Transportation"></calcite-combobox-item>
  </calcite-combobox>
  <div class="contents">
    <calcite-flow id="flow">
      <calcite-flow-item>
        <calcite-list id="results">
        </calcite-list>
      </calcite-flow-item>
    </calcite-flow>
  </div>

  <div id="map"></div>
  <script>

    const categorySelect = document.getElementById("categorySelect");
    const resultPanel = document.getElementById("results");
    const flow = document.getElementById("flow");
    let infoPanel;

    const setAttribute = (heading, icon, validValue) => {
    if (validValue) {
      const element = document.createElement("calcite-block");
      element.heading = heading;
      element.description = validValue;

      const attributeIcon = document.createElement("calcite-icon");
      attributeIcon.icon = icon;
      attributeIcon.slot = "icon";
      attributeIcon.scale = "m";

      element.appendChild(attributeIcon);
      infoPanel.appendChild(element);
    }
    };

    const apiKey = "AAPK65ad68eed9964e5194121a603e76c954yqyv_3p6FBw3Dwfz9O0ql4Qxw8rHbZyInVz-lXMAyf50M_MoE-UQPCRilOMgBclQ";
    const basemapEnum = "arcgis/navigation";

    const map = new maplibregl.Map({
            container: "map", // the id of the div element
            style: `https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/styles/${basemapEnum}?token=${apiKey}`,
            zoom: 14, // starting zoom
            center: [-118.46651, 33.98621] // starting location [longitude, latitude]
    });

    const authentication = arcgisRest.ApiKeyManager.fromKey(apiKey);

    let activeCategory = "13000";
    let userLocation, clickedPoint;

    const searchRadius = 1000;

    /*map.once("load", () => {
        map.addSource("clicked-point", {
            type: "geojson",
            data: {
            "type": "Feature",
            "geometry": {
                "type":"Point",
                "coordinates": []
            }}
        });
        map.addLayer({
            id:"search-location",
            source:'clicked-point',
            type:"fill",
            paint: {
                'fill-color': '#aaaaaa',
                'fill-opacity':0.25,
                'fill-outline-color':'#000000',
            }
        })
    })*/

	//map.on('click', function (e) {
    function mapDisplay(e) {
		console.log("done been pressed and now doin stuff");
        //userLocation = e.lngLat;
		try
		{
			var latitude = e.coords.latitude;
			var longitude = e.coords.longitude;
		}
		catch(error)
		{
			var latitude = e[1];
			var longitude = e[0];
		}
		
		userLocation = {"lng": longitude, "lat": latitude};

        const searchArea = turf.circle([longitude, latitude], searchRadius, {
            steps:36,
            units:"meters"
        });
        //map.getSource('clicked-point').setData(searchArea);

        showPlaces();

	}
    //})
	
	//map.on('click', function (e) { mapDisplay(e); })

    categorySelect.addEventListener("calciteComboboxChange", e => {
        activeCategory = "13000";

        if (userLocation) showPlaces();

    });

    const currentPlaces = [];

    function showPlaces() {

        for (let place of currentPlaces) {
                place.remove();
        }
        resultPanel.innerHTML = "";

        if (infoPanel) infoPanel.remove();

        arcgisRest.findPlacesNearPoint({
            x: userLocation.lng,
            y: userLocation.lat,
            categoryIds:activeCategory,
            radius:searchRadius,
            authentication
        })

        .then((response)=>{
            response.results.forEach((result)=>{

                addResult(result);

            });
        });

    };

    function addResult(place) {
        const marker = new maplibregl.Marker()
            .setLngLat([place.location.x, place.location.y])
            .addTo(map);
        currentPlaces.push(marker);

        const infoDiv = document.createElement("calcite-list-item");
        resultPanel.appendChild(infoDiv);

        const description = `
            ${place.categories[0].label} -
            ${Number((place.distance / 1000).toFixed(1))} km
        `;

        infoDiv.label = place.name;
        infoDiv.description = description;

        marker.id = place.placeId;
        marker.setPopup(new maplibregl.Popup().setText(place.name));
        infoDiv.addEventListener("click",e => {
            marker.togglePopup();

            getDetails(marker);

        })

    }

    function getDetails(marker) {

        arcgisRest.getPlaceDetails({
            placeId: marker.id,
            requestedFields: ["all"],
            authentication
        })

        .then((result)=>{

            map.flyTo({center:marker.getLngLat()});

            infoPanel = document.createElement("calcite-flow-item");
            flow.appendChild(infoPanel);

            const placeDetails = result.placeDetails;
            infoPanel.heading = placeDetails.name;
            infoPanel.description = placeDetails.categories[0].label;

            setAttribute("Description", "information", placeDetails?.description);
            setAttribute("Address", "map-pin", placeDetails?.address?.streetAddress);
            setAttribute("Phone", "mobile", placeDetails?.contactInfo?.telephone);
            setAttribute("Hours", "clock", placeDetails?.hours?.openingText);
            setAttribute("Rating", "star", placeDetails?.rating?.user);
            setAttribute("Email", "email-address", placeDetails?.contactInfo?.email);
            setAttribute("Website", "information", placeDetails?.contactInfo?.website?.split("://")[1].split("/")[0]);
            setAttribute("Facebook", "speech-bubble-social", (placeDetails?.socialMedia?.facebookId) ? `www.facebook.com/${placeDetails.socialMedia.facebookId}` : null);
            setAttribute("Twitter", "speech-bubbles", (placeDetails?.socialMedia?.twitter) ? `www.twitter.com/${placeDetails.socialMedia.twitter}` : null);
            setAttribute("Instagram", "camera", (placeDetails?.socialMedia?.instagram) ? `www.instagram.com/${placeDetails.socialMedia.instagram}` : null);

            infoPanel.addEventListener("calciteFlowItemBack", e => {
                marker.togglePopup();
            })

        });

    }
    </script>
</body>
  
  
  
  
  
  
  
</body>

<body id="demo"/>
    
</html>
